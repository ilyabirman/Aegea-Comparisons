/*
 * Goodyear 1.2
 * Timur Arefev (http://timurarefev.ru), Ilya Birman (http://ilyabirman.ru)
 * 2014
 */
 
(function(e){jQuery.fn.goodyear=function(t){var n=function(t,n){if(e(t).length>1){e(t).each(function(){r(this,n)})}else{r(t,n)}};var r=function(t,n){var r=e(t);var s=0;if(typeof activated_goodyears_list!="undefined")e.each(activated_goodyears_list,function(e,t){if(t.element==r){s=e}});if(s){}else{var n=e.extend({format:"YYYY-MM-DD",visible_format:"D MMMM YYYY Ð³.",minutes_step:5},n);var o={single_date_item_width:25,single_date_item_height:21,year_block_height:269,year_selection_top:119,year_selection_border_top:1,single_year_item_height:32,month_block_height:240,month_slider_height:43,month_slider_top_manual_correction:1,single_month_item_height:20,date_block_height:267,date_block_month_block_padding_top:5,date_block_month_block_padding_bottom:5,date_block_label_height:21,date_block_label_border_bottom:1,range_from_text_block_to_picker:3,picker_open:null};var u={container:function(){return"        			<div class='goodyear-container'>        			<div class='goodyear-icon'></div>        			<div class='goodyear-picker"+(n.hour_picker?" goodyear-add-hour-picker":"")+(n.minute_picker?" goodyear-add-minute-picker":"")+"'>        				<div class='goodyear-date-picker'>        					<div class='goodyear-slider'>        						"+u.days()+"        					</div>        				</div>        				<div class='goodyear-month-picker'>        					<div class='goodyear-months'>        						"+u.months()+"        					</div>        					<div class='goodyear-slider'>        						<div class='goodyear-months'>        							"+u.months()+"        						</div>        					</div>        				</div>        				<div class='goodyear-date-picker-label'>        					<div class='goodyear-date-picker-label-background'></div>        					<span class='goodyear-monday'>"+a.days_of_week[0]+"</span>        					<span class='goodyear-tuesday'>"+a.days_of_week[1]+"</span>        					<span class='goodyear-wednesday'>"+a.days_of_week[2]+"</span>        					<span class='goodyear-thursday'>"+a.days_of_week[3]+"</span>        					<span class='goodyear-friday'>"+a.days_of_week[4]+"</span>        					<span class='goodyear-saturday'>"+a.days_of_week[5]+"</span>        					<span class='goodyear-sunday'>"+a.days_of_week[6]+"</span>        				</div>        				<div class='goodyear-year-picker'>        					<div class='goodyear-years'>        						<div class='goodyear-years-floating-block'>        							"+u.years()+"        						</div>        					</div>        					<div class='goodyear-current-year-selection'>        						<div class='goodyear-years-floating-block'>        							"+u.years()+"        						</div>        					</div>        				</div>                        "+(n.hour_picker?"                        <div class='goodyear-hour-picker'>        					<div class='goodyear-hours'>        						<div class='goodyear-hours-floating-block'>        							"+u.hours()+"        						</div>        					</div>        					<div class='goodyear-current-hour-selection'>        						<div class='goodyear-hours-floating-block'>        							"+u.hours()+"        						</div>        					</div>        				</div>                                                <div class='goodyear-minute-picker'>                            "+(n.minute_picker?"        					<div class='goodyear-minutes'>        						<div class='goodyear-minutes-floating-block'>        							"+u.minutes()+"        						</div>        					</div>                            ":"")+"        					<div class='goodyear-current-minute-selection'>        						<div class='goodyear-minutes-floating-block'>        							"+(n.minute_picker?u.minutes():"<div class='goodyear-minute'><span>00</span></div>")+"        						</div>        					</div>        				</div>                        <div class='goodyear-time-divider'>                        :                        </div>                        ":"")+"        			</div>        			</div>"},hours:function(){var e="";for(i=0;i<24;i++){e+="<div class='goodyear-hour'><span>"+(i<10?"0":"")+i+"</span></div>"}return e},minutes:function(){var e="";for(i=0;i<60;i=i+n.minutes_step){e+="<div class='goodyear-minute'><span>"+(i<10?"0":"")+i+"</span></div>"}return e},years:function(e,t){var r="";for(i=n.min_year;i<=n.max_year;i++){r+="<div class='goodyear-year"+(f.today.format("YYYY")==i?" today":"")+"'><span>"+i+(f.today.format("YYYY")==i?" &bull;":"")+"</span></div>"}return r},months:function(){var e="";for(month_num=0;month_num<12;month_num++){e+="<div class='goodyear-month goodyear-"+a.months_en[month_num]+(f.today.format("M")==month_num+1?" today":"")+"'>"+a.months_ru_short[month_num]+(f.today.format("M")==month_num+1?"<span class='bull'> &bull;</span>":"")+"</div>"}return e},days:function(){var e="";for(month_num=0;month_num<12;month_num++){var t=moment(f.selected_date.format("YYYY")+"-"+(month_num+1)+"-01","YYYY-M-DD");var n=t.format("e");var r=t.add("months",1).subtract("days",1).format("D");var i=(n>2?9:2)-n;var s=(9-i)*o.single_date_item_width;var u=(4-i)*o.single_date_item_width;var l=(2-i)*o.single_date_item_width;var c=(0-i)*o.single_date_item_width;var h=(0-i)*o.single_date_item_width;var p=(0-i)*o.single_date_item_width;e+="        				<div class='goodyear-month goodyear-"+a.months_en[month_num]+"' data-month-id='"+month_num+"'>        					<div class='goodyear-label'>"+a.months_ru[month_num].substr(0,1).toUpperCase()+a.months_ru[month_num].substr(1)+"</div>        					<div class='goodyear-line_1'>        						<div class='goodyear-weekdays'>        							<div class='goodyear-slide_line' style='left:"+s+"px;'>        								<span date='1'>1</span>        								<span date='2'>2</span>        							</div>        						</div>        						<div class='goodyear-weekend'>        							<div class='goodyear-slide_line' style='left:"+u+"px;'>        								<span date='1'>1</span>        								<span date='2'>2</span>        								<span date='3'>3</span>        								<span date='4'>4</span>        							</div>        						</div>        					</div>        					<div class='goodyear-line_2'>        						<div class='goodyear-weekdays'>        							<div class='goodyear-slide_line' style='left:"+l+"px;'>        								<span date='1'>1</span>        								<span date='2'>2</span>        								<span date='3'>3</span>        								<span date='4'>4</span>        								<span date='5'>5</span>        								<span date='6'>6</span>        								<span date='7'>7</span>        								<span date='8'>8</span>        								<span date='9'>9</span>        							</div>        						</div>        						<div class='goodyear-weekend'>        							<div class='goodyear-slide_line' style='left:"+c+"px;'>        								<span date='4'>4</span>        								<span date='5'>5</span>        								<span date='6'>6</span>        								<span date='7'>7</span>        								<span date='8'>8</span>        								<span date='9'>9</span>        								<span date='10'>10</span>        								<span date='11'>11</span>        							</div>        						</div>        					</div>        					<div class='goodyear-line_3'>        						<div class='goodyear-weekdays'>        							<div class='goodyear-slide_line' style='left:"+h+"px;'>        								<span date='6'>6</span>        								<span date='7'>7</span>        								<span date='8'>8</span>        								<span date='9'>9</span>        								<span date='10'>10</span>        								<span date='11'>11</span>        								<span date='12'>12</span>        								<span date='13'>13</span>        								<span date='14'>14</span>        								<span date='15'>15</span>        								<span date='16'>16</span>        							</div>        						</div>        						<div class='goodyear-weekend'>        							<div class='goodyear-slide_line' style='left:"+p+"px;'>        								<span date='11'>11</span>        								<span date='12'>12</span>        								<span date='13'>13</span>        								<span date='14'>14</span>        								<span date='15'>15</span>        								<span date='16'>16</span>        								<span date='17'>17</span>        								<span date='18'>18</span>        							</div>        						</div>        					</div>        					<div class='goodyear-line_4'>        						<div class='goodyear-weekdays'>        							<div class='goodyear-slide_line' style='left:"+h+"px;'>        								<span date='13'>13</span>        								<span date='14'>14</span>        								<span date='15'>15</span>        								<span date='16'>16</span>        								<span date='17'>17</span>        								<span date='18'>18</span>        								<span date='19'>19</span>        								<span date='20'>20</span>        								<span date='21'>21</span>        								<span date='22'>22</span>        								<span date='23'>23</span>        							</div>        						</div>        						<div class='goodyear-weekend'>        							<div class='goodyear-slide_line' style='left:"+p+"px;'>        								<span date='18'>18</span>        								<span date='19'>19</span>        								<span date='20'>20</span>        								<span date='21'>21</span>        								<span date='22'>22</span>        								<span date='23'>23</span>        								<span date='24'>24</span>        								<span date='25'>25</span>        							</div>        						</div>        					</div>        					<div class='goodyear-line_5'>        						<div class='goodyear-weekdays'>        							<div class='goodyear-slide_line' style='left:"+h+"px;'>        								<span date='20'>20</span>        								<span date='21'>21</span>        								<span date='22'>22</span>        								<span date='23'>23</span>        								<span date='24'>24</span>        								<span date='25'>25</span>        								<span date='26'>26</span>        								<span date='27'>27</span>        								<span date='28'>28</span>        								<span date='29' "+(r<29?"style='display:none'":"")+">29</span>        								<span date='30' "+(r<30?"style='display:none'":"")+">30</span>        							</div>        						</div>        						<div class='goodyear-weekend'>        							<div class='goodyear-slide_line' style='left:"+p+"px;'>        								<span date='25'>25</span>        								<span date='26'>26</span>        								<span date='27'>27</span>        								<span date='28'>28</span>        								<span date='29' "+(r<29?"style='display:none'":"")+">29</span>        								<span date='30' "+(r<30?"style='display:none'":"")+">30</span>        								<span date='31' "+(r<31?"style='display:none'":"")+">31</span>        							</div>        						</div>        					</div>        					<div class='goodyear-line_6'>        						<div class='goodyear-weekdays'>        							<div class='goodyear-slide_line' style='left:"+h+"px;'>        								<span date='27'>27</span>        								<span date='28'>28</span>        								<span date='29' "+(r<29?"style='display:none'":"")+">29</span>        								<span date='30' "+(r<30?"style='display:none'":"")+">30</span>        								<span date='31' "+(r<31?"style='display:none'":"")+">31</span>        							</div>        						</div>        					</div>        				</div>"}return e}};var a={months_en:["january","febrary","march","april","may","june","july","august","september","october","november","december"],months_ru:["ÑÐ½Ð²Ð°ÑÑ","ÑÐµÐ²ÑÐ°Ð»Ñ","Ð¼Ð°ÑÑ","Ð°Ð¿ÑÐµÐ»Ñ","Ð¼Ð°Ð¹","Ð¸ÑÐ½Ñ","Ð¸ÑÐ»Ñ","Ð°Ð²Ð³ÑÑÑ","ÑÐµÐ½ÑÑÐ±ÑÑ","Ð¾ÐºÑÑÐ±ÑÑ","Ð½Ð¾ÑÐ±ÑÑ","Ð´ÐµÐºÐ°Ð±ÑÑ"],months_ru_short:["ÑÐ½Ð²","ÑÐµÐ²","Ð¼Ð°Ñ","Ð°Ð¿Ñ","Ð¼Ð°Ð¹","Ð¸ÑÐ½Ñ","Ð¸ÑÐ»Ñ","Ð°Ð²Ð³","ÑÐµÐ½","Ð¾ÐºÑ","Ð½Ð¾Ñ","Ð´ÐµÐº"],months_ru_genitive:["ÑÐ½Ð²Ð°ÑÑ","ÑÐµÐ²ÑÐ°Ð»Ñ","Ð¼Ð°ÑÑÐ°","Ð°Ð¿ÑÐµÐ»Ñ","Ð¼Ð°Ñ","Ð¸ÑÐ½Ñ","Ð¸ÑÐ»Ñ","Ð°Ð²Ð³ÑÑÑÐ°","ÑÐµÐ½ÑÑÐ±ÑÑ","Ð¾ÐºÑÑÐ±ÑÑ","Ð½Ð¾ÑÐ±ÑÑ","Ð´ÐµÐºÐ°Ð±ÑÑ"],days_of_week:["Ð","Ð","Ð¡","Ð§","Ð","Ð¡","Ð"],common_date_formats:[["D M","DD M","DD MM","D-M","DD-M","DD-MM","D.M","DD.M","DD.MM","D\\M","DD\\M","DD\\MM","D/M","DD/M","DD/MM","D M YY","DD M YY","DD MM YY","D M YYYY","DD M YYYY","DD MM YYYY","D-M-YY","DD-M-YY","DD-MM-YY","D-M-YYYY","DD-M-YYYY","DD-MM-YYYY","D.M.YY","DD.M.YY","DD.MM.YY","D.M.YYYY","DD.M.YYYY","DD.MM.YYYY","D\\M\\YY","DD\\M\\YY","DD\\MM\\YY","D\\M\\YYYY","DD\\M\\YYYY","DD\\MM\\YYYY","D/M/YY","DD/M/YY","DD/MM/YY","D/M/YYYY","DD/M/YYYY","DD/MM/YYYY","D M YY","DD M YY","DD MM YY","D M YYYY","DD M YYYY","DD MM YYYY","D-M-YY","DD-M-YY","DD-MM-YY","D-M-YYYY","DD-M-YYYY","DD-MM-YYYY","D.M.YY","DD.M.YY","DD.MM.YY","D.M.YYYY","DD.M.YYYY","DD.MM.YYYY","D\\M\\YY","DD\\M\\YY","DD\\MM\\YY","D\\M\\YYYY","DD\\M\\YYYY","DD\\MM\\YYYY","D/M/YY","DD/M/YY","DD/MM/YY","D/M/YYYY","DD/M/YYYY","DD/MM/YYYY","YY M D","YY M DD","YY MM DD","YYYY M D","YYYY M DD","YYYY MM DD","YY-M-D","YY-M-DD","YY-MM-DD","YYYY-M-D","YYYY-M-DD","YYYY-MM-DD","YY.M.D","YY.M.DD","YY.MM.DD","YYYY.M.D","YYYY.M.DD","YYYY.MM.DD","YY\\M\\D","YY\\M\\DD","YY\\MM\\DD","YYYY\\M\\D","YYYY\\M\\DD","YYYY\\MM\\DD","YY/M/D","YY/M/DD","YY/MM/DD","YYYY/M/D","YYYY/M/DD","YYYY/MM/DD","YY D M","YY DD M","YY DD MM","YYYY D M","YYYY DD MM","YYYY DD MM","YY-D-M","YY-DD-M","YY-DD-MM","YYYY-D-M","YYYY-DD-MM","YYYY-DD-MM","YY.D.M","YY.DD.M","YY.DD.MM","YYYY.D.M","YYYY.DD.MM","YYYY.DD.MM","YY\\D\\M","YY\\DD\\M","YY\\DD\\MM","YYYY\\D\\M","YYYY\\DD\\MM","YYYY\\DD\\MM","YY/D/M","YY/DD/M","YY/DD/MM","YYYY/D/M","YYYY/DD/MM","YYYY/DD/MM","D MMM","DD MMM","D M HH:mm","DD M HH:mm","DD MM HH:mm","D-M HH:mm","DD-M HH:mm","DD-MM HH:mm","D.M HH:mm","DD.M HH:mm","DD.MM HH:mm","D\\M HH:mm","DD\\M HH:mm","DD\\MM HH:mm","D/M HH:mm","DD/M HH:mm","DD/MM HH:mm","D M YY HH:mm","DD M YY HH:mm","DD MM YY HH:mm","D M YYYY HH:mm","DD M YYYY HH:mm","DD MM YYYY HH:mm","D-M-YY HH:mm","DD-M-YY HH:mm","DD-MM-YY HH:mm","D-M-YYYY HH:mm","DD-M-YYYY HH:mm","DD-MM-YYYY HH:mm","D.M.YY HH:mm","DD.M.YY HH:mm","DD.MM.YY HH:mm","D.M.YYYY HH:mm","DD.M.YYYY HH:mm","DD.MM.YYYY HH:mm","D\\M\\YY HH:mm","DD\\M\\YY HH:mm","DD\\MM\\YY HH:mm","D\\M\\YYYY HH:mm","DD\\M\\YYYY HH:mm","DD\\MM\\YYYY HH:mm","D/M/YY HH:mm","DD/M/YY HH:mm","DD/MM/YY HH:mm","D/M/YYYY HH:mm","DD/M/YYYY HH:mm","DD/MM/YYYY HH:mm","D M YY HH:mm","DD M YY HH:mm","DD MM YY HH:mm","D M YYYY HH:mm","DD M YYYY HH:mm","DD MM YYYY HH:mm","D-M-YY HH:mm","DD-M-YY HH:mm","DD-MM-YY HH:mm","D-M-YYYY HH:mm","DD-M-YYYY HH:mm","DD-MM-YYYY HH:mm","D.M.YY HH:mm","DD.M.YY HH:mm","DD.MM.YY HH:mm","D.M.YYYY HH:mm","DD.M.YYYY HH:mm","DD.MM.YYYY HH:mm","D\\M\\YY HH:mm","DD\\M\\YY HH:mm","DD\\MM\\YY HH:mm","D\\M\\YYYY HH:mm","DD\\M\\YYYY HH:mm","DD\\MM\\YYYY HH:mm","D/M/YY HH:mm","DD/M/YY HH:mm","DD/MM/YY HH:mm","D/M/YYYY HH:mm","DD/M/YYYY HH:mm","DD/MM/YYYY HH:mm","YY M D HH:mm","YY M DD HH:mm","YY MM DD HH:mm","YYYY M D HH:mm","YYYY M DD HH:mm","YYYY MM DD HH:mm","YY-M-D HH:mm","YY-M-DD HH:mm","YY-MM-DD HH:mm","YYYY-M-D HH:mm","YYYY-M-DD HH:mm","YYYY-MM-DD HH:mm","YY.M.D HH:mm","YY.M.DD HH:mm","YY.MM.DD HH:mm","YYYY.M.D HH:mm","YYYY.M.DD HH:mm","YYYY.MM.DD HH:mm","YY\\M\\D HH:mm","YY\\M\\DD HH:mm","YY\\MM\\DD HH:mm","YYYY\\M\\D HH:mm","YYYY\\M\\DD HH:mm","YYYY\\MM\\DD HH:mm","YY/M/D HH:mm","YY/M/DD HH:mm","YY/MM/DD HH:mm","YYYY/M/D HH:mm","YYYY/M/DD HH:mm","YYYY/MM/DD HH:mm","YY D M HH:mm","YY DD M HH:mm","YY DD MM HH:mm","YYYY D M HH:mm","YYYY DD MM HH:mm","YYYY DD MM HH:mm","YY-D-M HH:mm","YY-DD-M HH:mm","YY-DD-MM HH:mm","YYYY-D-M HH:mm","YYYY-DD-MM HH:mm","YYYY-DD-MM HH:mm","YY.D.M HH:mm","YY.DD.M HH:mm","YY.DD.MM HH:mm","YYYY.D.M HH:mm","YYYY.DD.MM HH:mm","YYYY.DD.MM HH:mm","YY\\D\\M HH:mm","YY\\DD\\M HH:mm","YY\\DD\\MM HH:mm","YYYY\\D\\M HH:mm","YYYY\\DD\\MM HH:mm","YYYY\\DD\\MM HH:mm","YY/D/M HH:mm","YY/DD/M HH:mm","YY/DD/MM HH:mm","YYYY/D/M HH:mm","YYYY/DD/MM HH:mm","YYYY/DD/MM HH:mm","D MMM HH:mm","DD MMM HH:mm"],["YYYY MMM D","YYYY MMM DD","YYYY D MMM","YYYY DD MMM","D MMM YY","DD MMM YY","D MMM YYYY","DD MMM YYYY","D MMM YY","DD MMM YY","D MMM YYYY","DD MMM YYYY","MMM D YYYY","MMM DD YYYY","YY MMM D","YY MMM DD","YY D MMM","YY DD MMM","D MMM","DD MMM","YYYY MMM D HH:mm","YYYY MMM DD HH:mm","YYYY D MMM HH:mm","YYYY DD MMM HH:mm","D MMM YY HH:mm","DD MMM YY HH:mm","D MMM YYYY HH:mm","DD MMM YYYY HH:mm","D MMM YY HH:mm","DD MMM YY HH:mm","D MMM YYYY HH:mm","DD MMM YYYY HH:mm","MMM D YYYY HH:mm","MMM DD YYYY HH:mm","YY MMM D HH:mm","YY MMM DD HH:mm","YY D MMM HH:mm","YY DD MMM HH:mm","D MMM HH:mm","DD MMM HH:mm"],["YYYY MMM D","YYYY MMM DD","YYYY D MMM","YYYY DD MMM","D MMM YY","DD MMM YY","D MMM YYYY","DD MMM YYYY","D MMM YY","DD MMM YY","D MMM YYYY","DD MMM YYYY","MMM D YYYY","MMM DD YYYY","YY MMM D","YY MMM DD","YY D MMM","YY DD MMM","YYYY MMM D HH:mm","YYYY MMM DD HH:mm","YYYY D MMM HH:mm","YYYY DD MMM HH:mm","D MMM YY HH:mm","DD MMM YY HH:mm","D MMM YYYY HH:mm","DD MMM YYYY HH:mm","D MMM YY HH:mm","DD MMM YY HH:mm","D MMM YYYY HH:mm","DD MMM YYYY HH:mm","MMM D YYYY HH:mm","MMM DD YYYY HH:mm","YY MMM D HH:mm","YY MMM DD HH:mm","YY D MMM HH:mm","YY DD MMM HH:mm"]],common_date_langs:["ru","en"]};var f={input_text_value:null,selected_date:null,today:null,displayed_year:null,selected_hour:null,selected_minute:null,container:null,drag_item:null,drag_start_pos_y:null,drag_start_element_top:null,drag_started:null,is_mobile:null,input_text_error:null,mousewheel:null};var l={wrap_element:function(t){var r=e(u.container()).clone();switch(e(t).css("box-sizing")){case"border-box":r.css("width",e(t).css("width"));break;case"content-box":r.css("width",parseFloat(e(t).width())+parseFloat(e(t).css("padding-left"))+parseFloat(e(t).css("padding-right"))+parseFloat(e(t).css("border-left-width"))+parseFloat(e(t).css("border-right-width")));e(t).css("height",parseFloat(e(t).height())+parseFloat(e(t).css("padding-top"))+parseFloat(e(t).css("padding-bottom"))+parseFloat(e(t).css("border-top-width"))+parseFloat(e(t).css("border-bottom-width")));break;case"padding-box":r.css("width",parseFloat(e(t).width())+parseFloat(e(t).css("border-left-width"))+parseFloat(e(t).css("border-right-width")));e(t).css("height",parseFloat(e(t).height())+parseFloat(e(t).css("border-top-width"))+parseFloat(e(t).css("border-bottom-width")));break}t.wrapAll(r);var i=t.clone();t.removeClass("goodyear").addClass("goodyear-hidden-text");f.container=t.parent();i.removeClass("goodyear").addClass("goodyear-text");i.prependTo(f.container);f.container.find(".goodyear-text").val(f.input_text_value);f.container.find(".goodyear-hidden-text").val(f.input_hidden_text_value);if(f.input_text_value==f.selected_date.format(n.visible_format)){f.container.removeClass("goodyear-error");f.input_text_error=false}else{if(f.input_text_value){f.container.addClass("goodyear-error");f.input_text_error=true}}var s=new RegExp("mobile|android","i");f.is_mobile=s.test(navigator.userAgent);l.set_date();l.input_icon_hover();if(!f.is_mobile){l.show_and_hide_picker()}l.set_date_on_blur();l.months_hover();l.months_click();l.months_drag();l.months_mousewheel();l.year_mouseenter();l.year_click();l.year_drag();l.year_mousewheel();if(n.hour_picker){l.hour_mouseenter();l.hour_click();l.hour_drag();l.hour_mousewheel();if(n.minute_picker){l.minute_mouseenter();l.minute_click();l.minute_drag();l.minute_mousewheel()}}l.date_hover();l.date_pick();return t},document_actions:function(){if(typeof activated_goodyears_list=="undefined")activated_goodyears_list=[];if(activated_goodyears_list.length==1){e("html").mouseup(function(){var t=false;e.each(activated_goodyears_list,function(e,n){if(n.states.drag_item)t=true});if(!t){e(".goodyear-picker").css("zIndex",1);e(".goodyear-picker").fadeOut(100);e.each(activated_goodyears_list,function(e,t){t.states.picker_open=false})}})}},input_icon_hover:function(){f.container.find(".goodyear-icon").mouseenter(function(){e(this).addClass("hover")}).mouseleave(function(){e(this).removeClass("hover")}).click(function(){f.container.find(".goodyear-text").trigger("focus")})},set_date:function(){var t=f.container.find(".goodyear-year-picker");var r=parseInt(f.selected_date.format("YYYY"),10)-n.min_year;var i=-(r*o.single_year_item_height)+o.year_selection_top+o.year_selection_border_top;t.find(".goodyear-years").find(".goodyear-years-floating-block").stop(true,true);t.find(".goodyear-years").find(".goodyear-years-floating-block").animate({top:i+"px"},{duration:f.displayed_year?Math.abs(parseInt(f.selected_date.format("YYYY"),10)-f.displayed_year)*200<1e3?Math.abs(parseInt(f.selected_date.format("YYYY"),10)-f.displayed_year)*200:1e3:0,step:function(e,n){t.find(".goodyear-years").find(".goodyear-years-floating-block").data("top",e);t.find(".goodyear-current-year-selection").find(".goodyear-years-floating-block").css("top",e-(o.year_selection_top+o.year_selection_border_top)+"px")}});prev_displayed_year=f.displayed_year;f.displayed_year=parseInt(f.selected_date.format("YYYY"),10);if(f.displayed_year!=prev_displayed_year){l.year_change_date_block_reaction()}var s=f.container.find(".goodyear-month-picker").find(".goodyear-slider");var u=-Math.floor((o.month_slider_height-o.single_month_item_height)/2);var c=(parseInt(f.selected_date.format("M"),10)-1)*o.single_month_item_height+u+o.month_slider_top_manual_correction;if(c<0)c=0;if(c>o.month_block_height-o.month_slider_height)c=o.month_block_height-o.month_slider_height;var h=f.container.find(".goodyear-date-picker").find(".goodyear-slider");var p=o.date_block_height-o.date_block_label_height-o.date_block_label_border_bottom;var d=12*(6*o.date_block_label_height+(o.date_block_month_block_padding_top>o.date_block_month_block_padding_bottom?o.date_block_month_block_padding_top:o.date_block_month_block_padding_bottom))+o.date_block_month_block_padding_bottom;var v=d-p;s.stop(true,true);s.animate({top:c+"px"},{duration:3*Math.abs(parseInt(s.css("top"),10)-c),step:function(e,t){s.find(".goodyear-months").css("top",-e+"px");var n=o.date_block_label_height+o.date_block_label_border_bottom-v*(e/(o.month_block_height-o.month_slider_height));h.css("top",n+"px");h.data("top",n);s.data("top",e)}});if(f.today.format("YYYY")==f.displayed_year){h.find(".goodyear-month").filter(".goodyear-"+a.months_en[f.today.format("M")-1]).find("span").filter("[date='"+f.today.format("D")+"']").addClass("today").append("<div class='bull'>&bull;</div>")}h.find(".goodyear-month").find(".goodyear-slide_line").find("span").filter(".active").addClass("prev_active");h.find(".goodyear-month").find("span").filter(".active").removeClass("active");h.find(".goodyear-month").filter(".goodyear-"+a.months_en[f.selected_date.format("M")-1]).find("span").filter("[date='"+f.selected_date.format("D")+"']").addClass("hover").addClass("active").removeClass("hover");if(n.hour_picker){previous_selected_hour=f.selected_hour;f.selected_hour=f.selected_date.hour();var m=f.container.find(".goodyear-hour-picker");var g=parseInt(f.selected_hour,10);var y=-(g*o.single_year_item_height)+o.year_selection_top+o.year_selection_border_top;m.find(".goodyear-hours").find(".goodyear-hours-floating-block").stop(true,true);m.find(".goodyear-hours").find(".goodyear-hours-floating-block").animate({top:y+"px"},{duration:Math.abs(f.selected_hour-previous_selected_hour)*50,step:function(e,t){m.find(".goodyear-hours").find(".goodyear-hours-floating-block").data("top",e);m.find(".goodyear-current-hour-selection").find(".goodyear-hours-floating-block").css("top",e-(o.year_selection_top+o.year_selection_border_top)+"px")}})}if(n.minute_picker){previous_selected_minute=f.selected_minute;f.selected_minute=Math.round(f.selected_date.minute()/n.minutes_step)*n.minutes_step;var b=f.container.find(".goodyear-minute-picker");var w=parseInt(f.selected_minute,10)/n.minutes_step;var E=-(w*o.single_year_item_height)+o.year_selection_top+o.year_selection_border_top;b.find(".goodyear-minutes").find(".goodyear-minutes-floating-block").stop(true,true);b.find(".goodyear-minutes").find(".goodyear-minutes-floating-block").animate({top:E+"px"},{duration:Math.abs(f.selected_minute-previous_selected_minute)*10,step:function(e,t){b.find(".goodyear-minutes").find(".goodyear-minutes-floating-block").data("top",e);b.find(".goodyear-current-minute-selection").find(".goodyear-minutes-floating-block").css("top",e-(o.year_selection_top+o.year_selection_border_top)+"px")}})}f.container.find(".goodyear-text").val(f.input_text_value);f.container.find(".goodyear-hidden-text").val(f.input_hidden_text_value);if(n.range_from_id){if(typeof activated_goodyears_list!="undefined"){if(activated_goodyears_list.length>1){e.each(activated_goodyears_list,function(e,t){if(t.options.range_to_id==n.range_from_id){if(f.selected_date>t.states.selected_date){t.states.selected_date=f.selected_date;t.states.input_text_value=f.selected_date.format(t.options.visible_format);t.states.input_hidden_text_value=f.selected_date.format(t.options.format);t.methods.set_date()}}})}}}if(n.range_to_id){if(typeof activated_goodyears_list!="undefined"){if(activated_goodyears_list.length>1){e.each(activated_goodyears_list,function(e,t){if(t.options.range_from_id==n.range_to_id){if(f.selected_date<t.states.selected_date){t.states.selected_date=f.selected_date;t.states.input_text_value=f.selected_date.format(t.options.visible_format);t.states.input_hidden_text_value=f.selected_date.format(t.options.format);t.methods.set_date()}}})}}}},year_change_date_block_reaction:function(){var t=f.container.find(".goodyear-date-picker").find(".goodyear-slider");var r=f.container.find(".goodyear-month-picker").find(".goodyear-slider");var i=f.container.find(".goodyear-month-picker");t.find(".goodyear-month").filter(".goodyear-"+a.months_en[parseInt(f.selected_date.format("M"),10)-1]).find("span").filter("[date='"+f.selected_date.format("D")+"']").addClass("active");if(f.today.format("YYYY")!=f.displayed_year){t.find(".goodyear-month").find(".goodyear-slide_line").find("span").removeClass("today");f.container.find(".goodyear-month-picker").find(".goodyear-month").removeClass("today")}else{t.find(".goodyear-month").filter(".goodyear-"+a.months_en[parseInt(f.today.format("M"),10)-1]).find("span").filter("[date='"+f.today.format("D")+"']").addClass("today");f.container.find(".goodyear-months").each(function(){e(this).find(".goodyear-month").eq(parseInt(f.today.format("M"),10)-1).addClass("today")})}f.container.find(".goodyear-date-picker").find(".goodyear-month").each(function(){var r=f.container.find(".goodyear-date-picker").find(".goodyear-month").index(e(this));var s=moment(f.displayed_year+"-"+(r+1)+"-01","YYYY-M-DD");var u=s.format("e");var l=s.add("months",1).subtract("days",1).format("D");var c=(u>2?9:2)-u;var h=(9-c)*o.single_date_item_width;f.container.find(".goodyear-date-picker").find(".goodyear-month").eq(r).find(".goodyear-line_1").find(".goodyear-weekdays").find(".goodyear-slide_line").stop(true,true);f.container.find(".goodyear-date-picker").find(".goodyear-month").eq(r).find(".goodyear-line_1").find(".goodyear-weekdays").find(".goodyear-slide_line").animate({left:h},{duration:1e3,step:function(e,t){var n=9-e/o.single_date_item_width;var i=(4-n)*o.single_date_item_width;f.container.find(".goodyear-date-picker").find(".goodyear-month").eq(r).find(".goodyear-line_1").find(".goodyear-weekend").find(".goodyear-slide_line").css({left:i});var s=(2-n)*o.single_date_item_width;f.container.find(".goodyear-date-picker").find(".goodyear-month").eq(r).find(".goodyear-line_2").find(".goodyear-weekdays").find(".goodyear-slide_line").css({left:s});var u=(0-n)*o.single_date_item_width;f.container.find(".goodyear-date-picker").find(".goodyear-month").eq(r).find(".goodyear-line_2").find(".goodyear-weekend").find(".goodyear-slide_line").css({left:u});var a=(0-n)*o.single_date_item_width;f.container.find(".goodyear-date-picker").find(".goodyear-month").eq(r).find(".goodyear-line_3,.goodyear-line_4,.goodyear-line_5,.goodyear-line_6").find(".goodyear-weekdays").find(".goodyear-slide_line").css({left:a});var l=(0-n)*o.single_date_item_width;f.container.find(".goodyear-date-picker").find(".goodyear-month").eq(r).find(".goodyear-line_3,.goodyear-line_4,.goodyear-line_5,.goodyear-line_6").find(".goodyear-weekend").find(".goodyear-slide_line").css({left:l})}});var p=true;for(day=1;day<=31;day++){var d=moment([f.displayed_year,r,day]);if((!n.min_date||d>=n.min_date)&&(!n.max_date||d<=n.max_date)){t.find(".goodyear-month").filter(".goodyear-"+a.months_en[r]).find(".goodyear-slide_line").find("[date='"+day+"']").removeClass("disabled");if(day<=l)p=false}else{t.find(".goodyear-month").filter(".goodyear-"+a.months_en[r]).find(".goodyear-slide_line").find("[date='"+day+"']").addClass("disabled")}if(day<=l){t.find(".goodyear-month").filter(".goodyear-"+a.months_en[r]).find(".goodyear-slide_line").find("[date='"+day+"']").css("display","inline")}else{t.find(".goodyear-month").filter(".goodyear-"+a.months_en[r]).find(".goodyear-slide_line").find("[date='"+day+"']").css("display","none")}}if(p){t.find(".goodyear-month").filter(".goodyear-"+a.months_en[r]).find(".goodyear-label").addClass("disabled");i.find(".goodyear-month").filter(".goodyear-"+a.months_en[r]).addClass("disabled")}else{t.find(".goodyear-month").filter(".goodyear-"+a.months_en[r]).find(".goodyear-label").removeClass("disabled");i.find(".goodyear-month").filter(".goodyear-"+a.months_en[r]).removeClass("disabled")}})},show_and_hide_picker:function(){f.container.find(".goodyear-text").focus(function(){if(e("html").width()-f.container.offset().left-f.container.width()<f.container.find(".goodyear-picker").width()){f.container.find(".goodyear-picker").addClass("position-right")}else{f.container.find(".goodyear-picker").removeClass("position-right")}e(".goodyear-picker").not(f.container.find(".goodyear-picker")).parent().css("zIndex",1);e(".goodyear-picker").not(f.container.find(".goodyear-picker")).fadeOut(100);f.container.css("zIndex",2);f.container.find(".goodyear-picker").css("top",f.container.find(".goodyear-text").height()+parseInt(f.container.find(".goodyear-text").css("borderTopWidth"),10)+parseInt(f.container.find(".goodyear-text").css("borderBottomWidth"),10)+parseInt(f.container.find(".goodyear-text").css("paddingTop"),10)+parseInt(f.container.find(".goodyear-text").css("paddingBottom"),10)+o.range_from_text_block_to_picker);f.container.find(".goodyear-picker").css("display","block");f.picker_open=true;if(!f.is_mobile){setTimeout(function(){f.container.find(".goodyear-text")[0].select()},1)}}).click(function(){if(f.container.find(".goodyear-picker").css("display")!="block"){e(this).trigger("focus")}})},set_date_on_blur:function(){f.container.find(".goodyear-text").keydown(function(e){if(e.which==13){e.preventDefault();f.container.find(".goodyear-text").trigger("change");if(!f.is_mobile){setTimeout(function(){f.container.find(".goodyear-text")[0].select()},1)}}if(e.which==9){f.container.find(".goodyear-text").trigger("change");f.container.find(".goodyear-picker").css("zIndex",1);f.container.find(".goodyear-picker").fadeOut(100)}}).keyup(function(){f.input_text_value=e(this).val()});f.container.find(".goodyear-text").change(function(){var t=l.string_to_date(e(this).val());f.input_text_value=e(this).val();if(!t||t&&(t.year()<n.min_year||t.year()>n.max_year||t<n.min_date||t>n.max_date)){f.container.addClass("goodyear-error");f.input_text_error=true}else{f.selected_date=t;f.input_text_value=f.selected_date.format(n.visible_format);f.input_hidden_text_value=f.selected_date.format(n.format);l.set_date();f.container.find(".goodyear-text").val(f.input_text_value);f.container.find(".goodyear-text").val(f.input_hidden_text_value);f.container.removeClass("goodyear-error");f.input_text_error=false}})},months_hover:function(t){f.container.find(".goodyear-month-picker").children().filter(".goodyear-months").find(".goodyear-month").mouseenter(function(){e(this).addClass("hover")}).mouseleave(function(){e(this).removeClass("hover")})},months_drag:function(){var t=f.container.find(".goodyear-month-picker").find(".goodyear-slider");var n=f.container.find(".goodyear-date-picker").find(".goodyear-slider");t.stop(true,true);n.stop(true,true);var r=o.date_block_height-o.date_block_label_height-o.date_block_label_border_bottom;var i=12*(6*o.date_block_label_height+(o.date_block_month_block_padding_top>o.date_block_month_block_padding_bottom?o.date_block_month_block_padding_top:o.date_block_month_block_padding_bottom))+o.date_block_month_block_padding_bottom;var s=i-r;t.mousedown(function(r){t.addClass("drag");f.drag_started=false;f.drag_item=t;f.drag_start_pos_y=r.pageY;f.drag_start_element_top=parseInt(t.css("top"),10);e("html, body").addClass("disable_selection");e("html").mousemove(function(e){f.drag_started=true;if(f.drag_item==t){var r=f.drag_start_pos_y-e.pageY;var i=f.drag_start_element_top-r;if(i<0){i=0}if(i>o.month_block_height-o.month_slider_height){i=o.month_block_height-o.month_slider_height}date_slider_month_slider_top=i;f.drag_item.css("top",i);f.drag_item.data("top",i);t.find(".goodyear-months").css("top",-i+"px");var u=o.date_block_label_height+o.date_block_label_border_bottom-s*(date_slider_month_slider_top/(o.month_block_height-o.month_slider_height));n.css("top",u+"px");n.data("top",u)}})}).mouseenter(function(){e(this).addClass("hover")}).mouseleave(function(){e(this).removeClass("hover")});f.container.add(document).mouseup(function(n){n.stopPropagation();if(f.drag_item==t){f.drag_item=null;f.drag_start_pos_y=null;f.container.find(".goodyear-year-picker").removeClass("goodyear-drag_started");t.removeClass("drag");e("html").unbind("mousemove");e("html, body").removeClass("disable_selection");return false}})},months_mousewheel:function(){var e=o.date_block_height-o.date_block_label_height-o.date_block_label_border_bottom;var t=12*(6*o.date_block_label_height+(o.date_block_month_block_padding_top>o.date_block_month_block_padding_bottom?o.date_block_month_block_padding_top:o.date_block_month_block_padding_bottom))+o.date_block_month_block_padding_bottom;var n=t-e;var r=f.container.find(".goodyear-month-picker").find(".goodyear-slider");var i=f.container.find(".goodyear-date-picker").find(".goodyear-slider");if(f.mousewheel){f.container.find(".goodyear-date-picker,.goodyear-month-picker,.goodyear-date-picker-label").mousewheel(function(e){if(navigator.platform.indexOf("Win")!=-1){e.delta*=20;e.deltaX*=20;e.deltaY*=20}var t=(i.data("top")?i.data("top"):parseFloat(i.css("top")))+e.deltaY;if(t>o.date_block_label_height)t=o.date_block_label_height;if(t<o.date_block_label_height-n)t=o.date_block_label_height-n;var s=(o.month_block_height-o.month_slider_height)*((o.date_block_label_height+o.date_block_label_border_bottom-t)/n);r.css("top",s);r.find(".goodyear-months").css("top",-s+"px");i.data("top",t);i.css("top",t+"px");return false})}},months_click:function(){var t=f.container.find(".goodyear-month-picker").find(".goodyear-slider");var n=f.container.find(".goodyear-date-picker").find(".goodyear-slider");var r=o.date_block_height-o.date_block_label_height-o.date_block_label_border_bottom;var i=12*(6*o.date_block_label_height+(o.date_block_month_block_padding_top>o.date_block_month_block_padding_bottom?o.date_block_month_block_padding_top:o.date_block_month_block_padding_bottom))+o.date_block_month_block_padding_bottom;var s=i-r;f.container.find(".goodyear-month-picker").children().filter(".goodyear-months").find(".goodyear-month").click(function(){var r=f.container.find(".goodyear-month-picker").children().filter(".goodyear-months").find(".goodyear-month").index(e(this));var i=-Math.floor((o.month_slider_height-o.single_month_item_height)/2);var u=r*o.single_month_item_height+i+o.month_slider_top_manual_correction;if(u<0)u=0;if(u>o.month_block_height-o.month_slider_height)u=o.month_block_height-o.month_slider_height;t.stop(true,true);t.animate({top:u+"px"},{duration:3*Math.abs(parseInt(t.css("top"),10)-u),step:function(e,r){t.data("top",e);t.find(".goodyear-months").css("top",-e+"px");var i=o.date_block_label_height+o.date_block_label_border_bottom-s*(e/(o.month_block_height-o.month_slider_height));n.css("top",i+"px");n.data("top",i)}})})},year_mouseenter:function(t){f.container.find(".goodyear-year-picker").children().filter(".goodyear-years").find(".goodyear-year").find("span").unbind("mouseenter");f.container.find(".goodyear-year-picker").children().filter(".goodyear-years").find(".goodyear-year").find("span").mouseenter(function(){e(this).addClass("hover")}).mouseleave(function(){e(this).removeClass("hover")})},year_click:function(){var t=f.container.find(".goodyear-year-picker");f.container.find(".goodyear-year-picker").children().filter(".goodyear-years").find(".goodyear-year").find("span").unbind("click");f.container.find(".goodyear-year-picker").children().filter(".goodyear-years").find(".goodyear-year").find("span").click(function(){if(!f.drag_started){var r=f.displayed_year;f.displayed_year=parseInt(e(this).text(),10);var i=f.displayed_year-n.min_year;var s=-(i*o.single_year_item_height)+o.year_selection_top+o.year_selection_border_top;t.find(".goodyear-years").find(".goodyear-years-floating-block").stop(true,true);t.find(".goodyear-years").find(".goodyear-years-floating-block").animate({top:s+"px"},{duration:r?Math.abs(f.displayed_year-r)*200<1e3?Math.abs(f.displayed_year-r)*200:100:0,step:function(e,n){t.find(".goodyear-years").find(".goodyear-years-floating-block").data("top",e);t.find(".goodyear-current-year-selection").find(".goodyear-years-floating-block").css("top",e-(o.year_selection_top+o.year_selection_border_top)+"px")}});f.selected_date=moment([f.displayed_year,parseInt(f.selected_date.format("M"),10)-1,parseInt(f.selected_date.format("M")==2&&f.selected_date.format("D")==29?28:f.selected_date.format("D"),10),parseInt(f.selected_date.format("H"),10),parseInt(f.selected_date.format("m"),10),parseInt(f.selected_date.format("s"),10)]);f.input_text_value=f.selected_date.format(n.visible_format);l.set_date();l.year_change_date_block_reaction();if(!f.is_mobile){setTimeout(function(){f.container.find(".goodyear-text")[0].select()},1)}}})},year_drag:function(){var t=f.container.find(".goodyear-year-picker");t.stop(true,true);t.mousedown(function(r){f.drag_started=false;t.removeClass("drag_started");f.drag_item=t;f.drag_start_pos_y=r.pageY;f.drag_start_element_top=parseInt(t.find(".goodyear-years-floating-block").css("top"),10);e("html, body").addClass("disable_selection");e("html").mousemove(function(e){if(f.drag_item==t){f.drag_started=true;t.addClass("goodyear-drag_started");var r=f.drag_start_pos_y-e.pageY;var i=f.drag_start_element_top-r;var s=parseInt(f.selected_date.format("YYYY"),10)-n.min_year;var u=o.year_block_height-o.single_year_item_height*(n.max_year-n.min_year+1);if(i>o.year_selection_top+o.year_selection_border_top)i=o.year_selection_top+o.year_selection_border_top;if(i<-(o.year_block_height-o.year_selection_top-o.single_year_item_height-o.year_selection_border_top)+u)i=-(o.year_block_height-o.year_selection_top-o.single_year_item_height-o.year_selection_border_top)+u;t.find(".goodyear-years-floating-block").css("top",i);t.find(".goodyear-years-floating-block").data("top",i);t.find(".goodyear-current-year-selection").find(".goodyear-years-floating-block").css("top",i-(o.year_selection_top+o.year_selection_border_top)+"px")}})});f.container.add(document).mouseup(function(r){r.stopPropagation();if(f.drag_item==t){f.displayed_year=n.min_year+Math.round(Math.abs((parseInt(t.find(".goodyear-years-floating-block").css("top"),10)-o.year_selection_top+o.year_selection_border_top)/o.single_year_item_height));var i=f.displayed_year-n.min_year;var s=-(i*o.single_year_item_height)+o.year_selection_top+o.year_selection_border_top;t.find(".goodyear-years").find(".goodyear-years-floating-block").stop(true,true);t.find(".goodyear-years").find(".goodyear-years-floating-block").animate({top:s+"px"},{duration:200,step:function(e,n){t.find(".goodyear-years").find(".goodyear-years-floating-block").data("top",e);t.find(".goodyear-current-year-selection").find(".goodyear-years-floating-block").css("top",e-(o.year_selection_top+o.year_selection_border_top)+"px")}});f.selected_date=moment([f.displayed_year,parseInt(f.selected_date.format("M"),10)-1,parseInt(f.selected_date.format("M")==2&&f.selected_date.format("D")==29?28:f.selected_date.format("D"),10),parseInt(f.selected_date.format("H"),10),parseInt(f.selected_date.format("m"),10),parseInt(f.selected_date.format("s"),10)]);f.input_text_value=f.selected_date.format(n.visible_format);l.set_date();l.year_change_date_block_reaction();if(!f.is_mobile){setTimeout(function(){f.container.find(".goodyear-text")[0].select()},1)}f.drag_item=null;f.drag_start_pos_y=null;f.container.find(".goodyear-year-picker").removeClass("goodyear-drag_started");e("html").unbind("mousemove");e("html, body").removeClass("disable_selection");return false}})},year_mousewheel:function(){var e=f.container.find(".goodyear-year-picker");var t=0;var r=moment().valueOf();var i=o.year_block_height-o.single_year_item_height*(n.max_year-n.min_year+1);var s=false;var u=false;if(f.mousewheel){e.mousewheel(function(t){t.stopPropagation();t.preventDefault();if(navigator.platform.indexOf("Win")!=-1){t.delta*=20;t.deltaX*=20;t.deltaY*=20}var r=(e.find(".goodyear-years").find(".goodyear-years-floating-block").data("top")?e.find(".goodyear-years").find(".goodyear-years-floating-block").data("top"):parseFloat(e.find(".goodyear-years").find(".goodyear-years-floating-block").css("top"),10))+t.deltaY;if(r>o.year_selection_top+o.year_selection_border_top)r=o.year_selection_top+o.year_selection_border_top;if(r<-(o.year_block_height-o.year_selection_top-o.single_year_item_height-o.year_selection_border_top)+i)r=-(o.year_block_height-o.year_selection_top-o.single_year_item_height-o.year_selection_border_top)+i;e.find(".goodyear-years").find(".goodyear-years-floating-block").css("top",r);e.find(".goodyear-years").find(".goodyear-years-floating-block").data("top",r);e.find(".goodyear-current-year-selection").find(".goodyear-years-floating-block").css("top",r-(o.year_selection_top+o.year_selection_border_top)+"px");if(typeof u!="undefined"&&u!=false){clearTimeout(u)}u=setTimeout(function(){f.displayed_year=n.min_year+Math.round(Math.abs((parseInt(e.find(".goodyear-years-floating-block").css("top"),10)-o.year_selection_top+o.year_selection_border_top)/o.single_year_item_height));var t=f.displayed_year-n.min_year;var r=-(t*o.single_year_item_height)+o.year_selection_top+o.year_selection_border_top;e.find(".goodyear-years").find(".goodyear-years-floating-block").stop(true,true);e.find(".goodyear-years").find(".goodyear-years-floating-block").animate({top:r+"px"},{duration:200,step:function(t,n){e.find(".goodyear-years").find(".goodyear-years-floating-block").data("top",t);e.find(".goodyear-current-year-selection").find(".goodyear-years-floating-block").css("top",t-(o.year_selection_top+o.year_selection_border_top)+"px")}});f.selected_date=moment([f.displayed_year,parseInt(f.selected_date.format("M"),10)-1,parseInt(f.selected_date.format("M")==2&&f.selected_date.format("D")==29?28:f.selected_date.format("D"),10),parseInt(f.selected_date.format("H"),10),parseInt(f.selected_date.format("m"),10),parseInt(f.selected_date.format("s"),10)]);f.input_text_value=f.selected_date.format(n.visible_format);l.set_date();l.year_change_date_block_reaction();if(!f.is_mobile){setTimeout(function(){f.container.find(".goodyear-text")[0].select()},1)}},500)})}},hour_mouseenter:function(t){f.container.find(".goodyear-hour-picker").children().filter(".goodyear-hours").find(".goodyear-hour").find("span").unbind("mouseenter");f.container.find(".goodyear-hour-picker").children().filter(".goodyear-hours").find(".goodyear-hour").find("span").mouseenter(function(){e(this).addClass("hover")}).mouseleave(function(){e(this).removeClass("hover")})},hour_click:function(){var t=f.container.find(".goodyear-hour-picker");f.container.find(".goodyear-hour-picker").children().filter(".goodyear-hours").find(".goodyear-hour").find("span").unbind("click");f.container.find(".goodyear-hour-picker").children().filter(".goodyear-hours").find(".goodyear-hour").find("span").click(function(){if(!f.drag_started){var r=f.selected_hour;f.selected_hour=parseInt(e(this).text(),10);var i=parseInt(f.selected_hour,10);var s=-(i*o.single_year_item_height)+o.year_selection_top+o.year_selection_border_top;t.find(".goodyear-hours").find(".goodyear-hours-floating-block").stop(true,true);t.find(".goodyear-hours").find(".goodyear-hours-floating-block").animate({top:s+"px"},{duration:Math.abs(r-f.selected_hour)*50,step:function(e,n){t.find(".goodyear-hours").find(".goodyear-hours-floating-block").data("top",e);t.find(".goodyear-current-hour-selection").find(".goodyear-hours-floating-block").css("top",e-(o.year_selection_top+o.year_selection_border_top)+"px")}});f.selected_date.hour(f.selected_hour);f.input_text_value=f.selected_date.format(n.visible_format);f.container.find(".goodyear-text").val(f.input_text_value);f.container.find(".goodyear-hidden-text").val(f.input_hidden_text_value);if(!f.is_mobile){setTimeout(function(){f.container.find(".goodyear-text")[0].select()},1)}}})},hour_drag:function(){var t=f.container.find(".goodyear-hour-picker");t.stop(true,true);t.mousedown(function(r){f.drag_started=false;t.removeClass("drag_started");f.drag_item=t;f.drag_start_pos_y=r.pageY;f.drag_start_element_top=parseInt(t.find(".goodyear-hours-floating-block").css("top"),10);e("html, body").addClass("disable_selection");e("html").mousemove(function(e){if(f.drag_item==t){f.drag_started=true;t.addClass("goodyear-drag_started");var r=f.drag_start_pos_y-e.pageY;var i=f.drag_start_element_top-r;var s=parseInt(f.selected_date.format("YYYY"),10)-n.min_hour;var u=o.year_block_height-o.single_year_item_height*24;if(i>o.year_selection_top+o.year_selection_border_top)i=o.year_selection_top+o.year_selection_border_top;if(i<-(o.year_block_height-o.year_selection_top-o.single_year_item_height-o.year_selection_border_top)+u)i=-(o.year_block_height-o.year_selection_top-o.single_year_item_height-o.year_selection_border_top)+u;t.find(".goodyear-hours-floating-block").css("top",i);t.find(".goodyear-hours-floating-block").data("top",i);t.find(".goodyear-current-hour-selection").find(".goodyear-hours-floating-block").css("top",i-(o.year_selection_top+o.year_selection_border_top)+"px")}})});f.container.add(document).mouseup(function(r){r.stopPropagation();if(f.drag_item==t){f.selected_hour=Math.round(Math.abs((parseInt(t.find(".goodyear-hours-floating-block").css("top"),10)-o.year_selection_top+o.year_selection_border_top)/o.single_year_item_height));var i=f.selected_hour;var s=-(i*o.single_year_item_height)+o.year_selection_top+o.year_selection_border_top;t.find(".goodyear-hours").find(".goodyear-hours-floating-block").stop(true,true);t.find(".goodyear-hours").find(".goodyear-hours-floating-block").animate({top:s+"px"},{duration:200,step:function(e,n){t.find(".goodyear-hours").find(".goodyear-hours-floating-block").data("top",e);t.find(".goodyear-current-hour-selection").find(".goodyear-hours-floating-block").css("top",e-(o.year_selection_top+o.year_selection_border_top)+"px")}});f.selected_date.hour(f.selected_hour);f.input_text_value=f.selected_date.format(n.visible_format);f.input_hidden_text_value=f.selected_date.format(n.format);f.container.find(".goodyear-text").val(f.input_text_value);f.container.find(".goodyear-hidden-text").val(f.input_hidden_text_value);if(!f.is_mobile){setTimeout(function(){f.container.find(".goodyear-text")[0].select()},1)}f.drag_item=null;f.drag_start_pos_y=null;f.container.find(".goodyear-hour-picker").removeClass("goodyear-drag_started");e("html").unbind("mousemove");e("html, body").removeClass("disable_selection");return false}})},hour_mousewheel:function(){var e=f.container.find(".goodyear-hour-picker");var t=0;var r=moment().valueOf();var i=o.year_block_height-o.single_year_item_height*24;var s=false;var u=false;if(f.mousewheel){e.mousewheel(function(t){t.stopPropagation();t.preventDefault();if(navigator.platform.indexOf("Win")!=-1){t.delta*=20;t.deltaX*=20;t.deltaY*=20}var r=(e.find(".goodyear-hours").find(".goodyear-hours-floating-block").data("top")?e.find(".goodyear-hours").find(".goodyear-hours-floating-block").data("top"):parseFloat(e.find(".goodyear-hours").find(".goodyear-hours-floating-block").css("top"),10))+t.deltaY;if(r>o.year_selection_top+o.year_selection_border_top)r=o.year_selection_top+o.year_selection_border_top;if(r<-(o.year_block_height-o.year_selection_top-o.single_year_item_height-o.year_selection_border_top)+i)r=-(o.year_block_height-o.year_selection_top-o.single_year_item_height-o.year_selection_border_top)+i;e.find(".goodyear-hours").find(".goodyear-hours-floating-block").css("top",r);e.find(".goodyear-hours").find(".goodyear-hours-floating-block").data("top",r);e.find(".goodyear-current-hour-selection").find(".goodyear-hours-floating-block").css("top",r-(o.year_selection_top+o.year_selection_border_top)+"px");if(typeof u!="undefined"&&u!=false){clearTimeout(u)}u=setTimeout(function(){f.selected_hour=Math.round(Math.abs((parseInt(e.find(".goodyear-hours-floating-block").css("top"),10)-o.year_selection_top+o.year_selection_border_top)/o.single_year_item_height));var t=f.selected_hour;var r=-(t*o.single_year_item_height)+o.year_selection_top+o.year_selection_border_top;e.find(".goodyear-hours").find(".goodyear-hours-floating-block").stop(true,true);e.find(".goodyear-hours").find(".goodyear-hours-floating-block").animate({top:r+"px"},{duration:200,step:function(t,n){e.find(".goodyear-hours").find(".goodyear-hours-floating-block").data("top",t);e.find(".goodyear-current-hour-selection").find(".goodyear-hours-floating-block").css("top",t-(o.year_selection_top+o.year_selection_border_top)+"px")}});f.selected_date.hour(f.selected_hour);f.input_text_value=f.selected_date.format(n.visible_format);f.input_hidden_text_value=f.selected_date.format(n.format);f.container.find(".goodyear-text").val(f.input_text_value);f.container.find(".goodyear-hidden-text").val(f.input_hidden_text_value);if(!f.is_mobile){setTimeout(function(){f.container.find(".goodyear-text")[0].select()},1)}},500)})}},minute_mouseenter:function(t){f.container.find(".goodyear-minute-picker").children().filter(".goodyear-minutes").find(".goodyear-minute").find("span").unbind("mouseenter");f.container.find(".goodyear-minute-picker").children().filter(".goodyear-minutes").find(".goodyear-minute").find("span").mouseenter(function(){e(this).addClass("hover")}).mouseleave(function(){e(this).removeClass("hover")})},minute_click:function(){var t=f.container.find(".goodyear-minute-picker");f.container.find(".goodyear-minute-picker").children().filter(".goodyear-minutes").find(".goodyear-minute").find("span").unbind("click");f.container.find(".goodyear-minute-picker").children().filter(".goodyear-minutes").find(".goodyear-minute").find("span").click(function(){if(!f.drag_started){var r=f.selected_minute;f.selected_minute=Math.round(parseInt(e(this).text(),10)/n.minutes_step)*n.minutes_step;var i=parseInt(f.selected_minute,10)/n.minutes_step;var s=-(i*o.single_year_item_height)+o.year_selection_top+o.year_selection_border_top;t.find(".goodyear-minutes").find(".goodyear-minutes-floating-block").stop(true,true);t.find(".goodyear-minutes").find(".goodyear-minutes-floating-block").animate({top:s+"px"},{duration:Math.abs(r-f.selected_minute)*10,step:function(e,n){t.find(".goodyear-minutes").find(".goodyear-minutes-floating-block").data("top",e);t.find(".goodyear-current-minute-selection").find(".goodyear-minutes-floating-block").css("top",e-(o.year_selection_top+o.year_selection_border_top)+"px")}});f.selected_date.minute(f.selected_minute);f.input_text_value=f.selected_date.format(n.visible_format);f.input_hidden_text_value=f.selected_date.format(n.format);f.container.find(".goodyear-text").val(f.input_text_value);f.container.find(".goodyear-hidden-text").val(f.input_hidden_text_value);if(!f.is_mobile){setTimeout(function(){f.container.find(".goodyear-text")[0].select()},1)}}})},minute_drag:function(){var t=f.container.find(".goodyear-minute-picker");t.stop(true,true);t.mousedown(function(r){f.drag_started=false;t.removeClass("drag_started");f.drag_item=t;f.drag_start_pos_y=r.pageY;f.drag_start_element_top=parseInt(t.find(".goodyear-minutes-floating-block").css("top"),10);e("html, body").addClass("disable_selection");e("html").mousemove(function(e){if(f.drag_item==t){f.drag_started=true;t.addClass("goodyear-drag_started");var r=f.drag_start_pos_y-e.pageY;var i=f.drag_start_element_top-r;var s=parseInt(f.selected_date.minute(),10);var u=o.year_block_height-o.single_year_item_height*(60/n.minutes_step);if(i>o.year_selection_top+o.year_selection_border_top)i=o.year_selection_top+o.year_selection_border_top;if(i<-(o.year_block_height-o.year_selection_top-o.single_year_item_height-o.year_selection_border_top)+u)i=-(o.year_block_height-o.year_selection_top-o.single_year_item_height-o.year_selection_border_top)+u;t.find(".goodyear-minutes-floating-block").css("top",i);t.find(".goodyear-minutes-floating-block").data("top",i);t.find(".goodyear-current-minute-selection").find(".goodyear-minutes-floating-block").css("top",i-(o.year_selection_top+o.year_selection_border_top)+"px")}})});f.container.add(document).mouseup(function(r){r.stopPropagation();if(f.drag_item==t){f.selected_minute=Math.round(Math.abs((parseInt(t.find(".goodyear-minutes-floating-block").css("top"),10)-o.year_selection_top+o.year_selection_border_top)/o.single_year_item_height))*n.minutes_step;var i=f.selected_minute/n.minutes_step;var s=-(i*o.single_year_item_height)+o.year_selection_top+o.year_selection_border_top;t.find(".goodyear-minutes").find(".goodyear-minutes-floating-block").stop(true,true);t.find(".goodyear-minutes").find(".goodyear-minutes-floating-block").animate({top:s+"px"},{duration:200,step:function(e,n){t.find(".goodyear-minutes").find(".goodyear-minutes-floating-block").data("top",e);t.find(".goodyear-current-minute-selection").find(".goodyear-minutes-floating-block").css("top",e-(o.year_selection_top+o.year_selection_border_top)+"px")}});f.selected_date.minute(f.selected_minute);f.input_text_value=f.selected_date.format(n.visible_format);f.input_hidden_text_value=f.selected_date.format(n.format);f.container.find(".goodyear-text").val(f.input_text_value);f.container.find(".goodyear-hidden-text").val(f.input_hidden_text_value);if(!f.is_mobile){setTimeout(function(){f.container.find(".goodyear-text")[0].select()},1)}f.drag_item=null;f.drag_start_pos_y=null;f.container.find(".goodyear-minute-picker").removeClass("goodyear-drag_started");e("html").unbind("mousemove");e("html, body").removeClass("disable_selection");return false}})},minute_mousewheel:function(){var e=f.container.find(".goodyear-minute-picker");var t=0;var r=moment().valueOf();var i=o.year_block_height-o.single_year_item_height*(60/n.minutes_step);var s=false;var u=false;if(f.mousewheel){e.mousewheel(function(t){t.stopPropagation();t.preventDefault();if(navigator.platform.indexOf("Win")!=-1){t.delta*=20;t.deltaX*=20;t.deltaY*=20}var r=(e.find(".goodyear-minutes").find(".goodyear-minutes-floating-block").data("top")?e.find(".goodyear-minutes").find(".goodyear-minutes-floating-block").data("top"):parseFloat(e.find(".goodyear-minutes").find(".goodyear-minutes-floating-block").css("top"),10))+t.deltaY;if(r>o.year_selection_top+o.year_selection_border_top)r=o.year_selection_top+o.year_selection_border_top;if(r<-(o.year_block_height-o.year_selection_top-o.single_year_item_height-o.year_selection_border_top)+i)r=-(o.year_block_height-o.year_selection_top-o.single_year_item_height-o.year_selection_border_top)+i;e.find(".goodyear-minutes").find(".goodyear-minutes-floating-block").css("top",r);e.find(".goodyear-minutes").find(".goodyear-minutes-floating-block").data("top",r);e.find(".goodyear-current-minute-selection").find(".goodyear-minutes-floating-block").css("top",r-(o.year_selection_top+o.year_selection_border_top)+"px");if(typeof u!="undefined"&&u!=false){clearTimeout(u)}u=setTimeout(function(){f.selected_minute=Math.round(Math.abs((parseInt(e.find(".goodyear-minutes-floating-block").css("top"),10)-o.year_selection_top+o.year_selection_border_top)/o.single_year_item_height))*n.minutes_step;var t=f.selected_minute/n.minutes_step;var r=-(t*o.single_year_item_height)+o.year_selection_top+o.year_selection_border_top;e.find(".goodyear-minutes").find(".goodyear-minutes-floating-block").stop(true,true);e.find(".goodyear-minutes").find(".goodyear-minutes-floating-block").animate({top:r+"px"},{duration:200,step:function(t,n){e.find(".goodyear-minutes").find(".goodyear-minutes-floating-block").data("top",t);e.find(".goodyear-current-minute-selection").find(".goodyear-minutes-floating-block").css("top",t-(o.year_selection_top+o.year_selection_border_top)+"px")}});f.selected_date.minute(f.selected_minute);f.input_text_value=f.selected_date.format(n.visible_format);f.input_hidden_text_value=f.selected_date.format(n.format);f.container.find(".goodyear-text").val(f.input_text_value);f.container.find(".goodyear-hidden-text").val(f.input_hidden_text_value);if(!f.is_mobile){setTimeout(function(){f.container.find(".goodyear-text")[0].select()},1)}},500)})}},date_hover:function(){var t=f.container.find(".goodyear-date-picker").find(".goodyear-slider");t.find(".goodyear-month").find(".goodyear-slide_line").find("span").mouseenter(function(){if(!e(this).hasClass("disabled")&&f.picker_open){e(this).addClass("hover");f.container.find(".goodyear-text").val(moment([f.displayed_year,parseInt(e(this).parents(".goodyear-month").data("monthId"),10),parseInt(e(this).text(),10),f.selected_hour,f.selected_minute]).format(n.visible_format));if(!f.is_mobile){setTimeout(function(){f.container.find(".goodyear-text")[0].select()},1)}}}).mouseleave(function(){if(!e(this).hasClass("disabled")&&f.picker_open){e(this).removeClass("hover");if(f.picker_open){f.container.find(".goodyear-text").val(f.input_text_value)}if(!f.is_mobile){setTimeout(function(){f.container.find(".goodyear-text")[0].select()},1)}}})},date_pick:function(){var t=f.container.find(".goodyear-date-picker").find(".goodyear-slider");t.find(".goodyear-month").find(".goodyear-slide_line").find("span").not(".disabled").mousedown(function(){f.container.removeClass("goodyear-error")}).mouseleave(function(){if(f.input_text_error){f.container.addClass("goodyear-error")}}).click(function(){f.container.removeClass("goodyear-error");f.input_text_error=false;f.selected_date=moment([f.displayed_year,parseInt(e(this).parents(".goodyear-month").data("monthId"),10),parseInt(e(this).text(),10),f.selected_hour,f.selected_minute]);f.input_text_value=f.selected_date.format(n.visible_format);f.input_hidden_text_value=f.selected_date.format(n.format);f.container.find(".goodyear-text").val(f.input_text_value);f.container.find(".goodyear-hidden-text").val(f.input_hidden_text_value);l.set_date();f.container.find(".goodyear-text").focus();if(!f.is_mobile){setTimeout(function(){f.container.find(".goodyear-text")[0].select()},1)}f.container.find(".goodyear-picker").css("zIndex",1);f.container.find(".goodyear-picker").fadeOut(100);f.picker_open=false})},trim:function(e){if(e&&typeof e=="string")return e.replace(/^\s+|\s+$/g,"");else return""},string_to_date:function(e){for(i=0;i<a.common_date_langs.length;i++){var t=moment(l.trim(e),n.format,a.common_date_langs[i],true);if(t.isValid()){break}}for(i=0;i<a.common_date_langs.length;i++){var t=moment(l.trim(e),n.visible_format,a.common_date_langs[i],true);if(t.isValid()){break}}if(!t.isValid()){for(k=0;k<a.common_date_formats.length;k++){for(i=0;i<a.common_date_langs.length;i++){var t=moment(l.trim(e),a.common_date_formats[k],a.common_date_langs[i],k<2);if(t.isValid()){break}}if(t.isValid()){break}}}if(t.isValid()){return t}else{return false}}};if(typeof r.data("goodyearRangeFrom")!="undefined"&&typeof r.data("goodyearRangeFrom")){n.range_from_id=parseInt(r.data("goodyearRangeFrom"),10)}if(typeof r.data("goodyearRangeTo")!="undefined"&&typeof r.data("goodyearRangeTo")){n.range_to_id=parseInt(r.data("goodyearRangeTo"),10)}if(typeof r.data("goodyearFormat")!="undefined"&&r.data("goodyearFormat")){n.format=r.data("goodyearFormat")}if(typeof r.data("goodyearVisibleFormat")!="undefined"&&r.data("goodyearVisibleFormat")){n.visible_format=r.data("goodyearVisibleFormat")}else if(typeof r.data("goodyearFormat")!="undefined"&&r.data("goodyearFormat")){n.visible_format=r.data("goodyearFormat")}if(typeof r.data("goodyearMinYear")!="undefined"&&r.data("goodyearMinYear")){n.min_year=r.data("goodyearMinYear")}if(typeof r.data("goodyearMaxYear")!="undefined"&&r.data("goodyearMaxYear")){n.max_year=r.data("goodyearMaxYear")}if(typeof r.data("goodyearMinDate")!="undefined"&&r.data("goodyearMinDate")){n.min_date=r.data("goodyearMinDate")}if(typeof r.data("goodyearMaxDate")!="undefined"&&r.data("goodyearMaxDate")){n.max_date=r.data("goodyearMaxDate")}if(typeof r.data("goodyearHourPicker")!="undefined"&&r.data("goodyearHourPicker")){n.hour_picker=r.data("goodyearHourPicker")?true:false}if(typeof r.data("goodyearMinutePicker")!="undefined"&&r.data("goodyearMinutePicker")){n.minute_picker=r.data("goodyearMinutePicker")?true:false}if(typeof r.data("goodyearMinutesStep")!="undefined"&&r.data("goodyearMinutesStep")){n.minutes_step=r.data("goodyearMinutesStep")?r.data("goodyearMinutesStep"):5;n.minutes_step=60/Math.floor(60/n.minutes_step)}if(n.minute_picker)n.hour_picker=true;moment.lang("ru");var c=l.string_to_date(r.val());f.today=moment();n.min_date=l.string_to_date(n.min_date);if(n.min_date){n.min_year=parseInt(n.min_date.format("YYYY"),10)}else if(n.min_year){n.min_date=l.string_to_date(n.min_year+"-01-01")}else{if(c){n.min_year=parseInt(c.format("YYYY"),10)-50}else{n.min_year=parseInt(f.today.format("YYYY"),10)-50}n.min_date=l.string_to_date(n.min_year+"-01-01")}n.max_date=l.string_to_date(n.max_date);if(n.max_date){n.max_date=n.max_date.endOf("day");n.max_year=parseInt(n.max_date.format("YYYY"),10)}else if(n.max_year){n.max_date=l.string_to_date(n.max_year+"-01-01");n.max_date=n.max_date.endOf("year")}else{if(c){n.max_year=parseInt(c.format("YYYY"),10)+50}else{n.max_year=parseInt(f.today.format("YYYY"),10)+50}n.max_date=l.string_to_date(n.max_year+"-01-01").endOf("year")}if(c&&c>=n.min_date&&c<=n.max_date){if(!n.minute_picker){c.minute(0)}if(!n.hour_picker){c.hour(0)}f.selected_date=c;f.input_text_value=f.selected_date.format(n.visible_format)}else if(f.today>=n.min_date&&f.today<=n.max_date){f.selected_date=f.today;f.input_text_value=r.val()}else{f.selected_date=n.min_date;f.input_text_value=r.val()}if(c){f.selected_hour=c.hour();f.selected_minute=Math.round(c.minute()/n.minutes_step)*n.minutes_step}else{f.selected_hour=0;f.selected_minute=0}if(jQuery().mousewheel){f.mousewheel=true}r=l.wrap_element(r);if(typeof activated_goodyears_list=="undefined")activated_goodyears_list=[];activated_goodyears_list[activated_goodyears_list.length]={element:r,states:f,options:n,methods:l};l.document_actions();return r}};return n(this,t)}})(jQuery);$(document).ready(function(){var e=new RegExp("^.*?goodyear[^/]*?$","i");var t=new RegExp("^(.*?)[^/]*?$","i");var n=false;var r=false;$("script").filter("[src*='goodyear']").each(function(){if(e.test($(this).attr("src"))){n=t.exec($(this).attr("src"))[1];r=$(this)}});if(n)if(typeof moment=="undefined"){$("<script src='"+n+"moment-with-langs.min.js'></script>").insertAfter(r)}if(n)if(!jQuery().mousewheel){$("<script src='"+n+"jquery-mousewheel-3.1.11.min.js'></script>").insertAfter(r)}$(".goodyear").goodyear()})