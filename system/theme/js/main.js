$&&$(function(){!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=4)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={mac:/Macintosh/.test(navigator.userAgent),iosdevice:/(iPad)|(iPhone)/.test(navigator.userAgent)}},function(e,t,n){"use strict";function r(e,t,n){var r=void 0,i={event:"keydown",target:document,prevent:!1};n=l(n,i),Array.isArray(e)?(r=[],c.default.mac||(e=e.map(function(e){return e.replace("Cmd","Ctrl")})),e.forEach(function(e){return r.push(a(e,t,n))})):(c.default.mac||(e=e.replace("Cmd","Ctrl")),r=a(e,t,n));var s="string"==typeof n.target?document.querySelector(n.target):n.target;Array.isArray(r)?r.forEach(function(r,i){f[e[i]]||(f[e[i]]=[]),s.addEventListener(n.event,r,!1),f[e[i]].push({event:n.event,elem:s,fn:t,realFn:r})}):(f[e]||(f[e]=[]),s.addEventListener(n.event,r,!1),f[e].push({event:n.event,elem:s,fn:t,realFn:r}))}function i(e,t,n){function r(e){f[e]&&f[e].slice().reverse().forEach(function(e,r,i){e.fn!==t||n.target&&e.elem!==n.target||(e.elem.removeEventListener(e.event,e.realFn,!1),i.splice(i.length-1-r,1))})}n=n||{},Array.isArray(e)?e.forEach(r):r(e)}function a(e,t,n){return e=u(e).split("+"),function(r){s(r,e)&&(t(r),n.prevent&&(r.preventDefault(),r.stopPropagation()))}}function s(e,t){var n=o(e.keyCode),r={enter:13},i={},a=["shift","ctrl","alt","cmd"],s=0;a.forEach(function(e){i[e]={wanted:!1,pressed:!1}}),e.shiftKey&&(i.shift.pressed=!0),e.ctrlKey&&(i.ctrl.pressed=!0),e.altKey&&(i.alt.pressed=!0),e.metaKey&&(i.cmd.pressed=!0);for(var u=0;u<t.length;u++){var l=t[u];a.indexOf(l)>-1?(s++,i[l].wanted=!0):(l.length>1&&r[l]===e.keyCode||n===l)&&s++}return t.length===s&&Object.keys(i).reduce(function(e,t){return e&&i[t].wanted===i[t].pressed},!0)}function o(e){switch(e){case 91:case 93:return"MetaKey";case 188:return",";case 190:return".";case 219:return"[";case 221:return"]";default:return String.fromCharCode(e).toLowerCase()}}function u(e){return e.toLowerCase().replace(/\s/g,"")}function l(e,t){if(e){for(var n in t)void 0===e[n]&&(e[n]=t[n]);return e}return t}Object.defineProperty(t,"__esModule",{value:!0}),t.unbindKeys=t.bindKeys=void 0;var d=n(0),c=function(e){return e&&e.__esModule?e:{default:e}}(d),f={};t.bindKeys=r,t.unbindKeys=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(3);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r(i).default}})},function(e,t,n){"use strict";function r(e){w.forEach(function(t){function n(){function t(){function i(){e.selectionStart=n,e.selectionEnd=r,a.removeChild(s)}var a=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",s.appendChild(document.createTextNode("::selection { background: transparent; }")),a.appendChild(s),setTimeout(i,10),(0,y.unbindKeys)(u,t,{target:e})}var n=e.selectionStart,r=e.selectionEnd,u=["Cmd+Z","Ctrl+Z"];"inline"===i&&-1!==e.value.substring(n,r).indexOf("\n")||(a(e,n,r)?s(e,n,r):o(e,n,r),(0,y.bindKeys)(u,t,{target:e}),$(e).on("input",function(){(0,y.unbindKeys)(u,t,{target:e})}))}var r=t.keys,i=(t.name,t.type),a=t.isWrapped,s=t.unwrap,o=t.wrap;(0,y.bindKeys)(r,n,{target:e,prevent:!0})})}function i(e,t){document.execCommand("insertText",!1,t),$(e).trigger("input")}function a(e,t,n){var r=e.value,i=t,a=n;if(i===a||void 0===a){for(i-=1,a=i;i>0&&!/\s/.test(r[i]);)i--;for(i<=0?i=0:i++;a<r.length&&!/\s/.test(r[a]);)a++;a>=r.length?a=r.length-1:a--}else a--;return{value:r.substring(i,a+1),start:i,end:a}}function s(e,t,n){var r=e.value,i=["[","("],a=["]",")"];return t!==n&&(n-=1,i.indexOf(r[t])>-1&&i.indexOf(r[t+1])>-1&&a.indexOf(r[n])>-1&&a.indexOf(r[n-1])>-1)}function o(e,t,n){var r=a(e,t,n),s=e.value,o=2,u=s;t=r.start,n=r.end+1,k.test(r.value)?(u="(("+s.substring(t,n)+" ))",o+=n+1):0===r.value.length||" "===r.value?(u="(( ))",o+=t):(u="(( "+s.substring(t,n)+"))",o+=t),e.selectionStart=t,e.selectionEnd=n,i(e,u),e.selectionStart=o,e.selectionEnd=o}function u(e,t,n){var r=a(e,t,n),i=r.value.substr(2).split(" ");t=r.start+2,i.length>1&&k.test(i[0])?(e.selectionStart=t,e.selectionEnd=t+i[0].length):(e.selectionStart=t,e.selectionEnd=t)}function l(e,t,n,r){var i=t.value,a=e,s=e;Array.isArray(e)&&(a=e[0],s=e[1]);var o=a+a,u=s+s;if(n!==r){var l=p(e,t,n,r);return i.substr(l.start-2,2)===o&&i.substr(l.end,2)===u}return f(e,t,n).wrapped}function d(e,t,n,r){var a=t.value,s=void 0;n===r?(s=f(e,t,n),n=s.wordStart,r=s.wordStart===s.wordEnd?s.wordEnd:s.wordEnd+1):(s=p(e,t,n,r),n=s.start,r=s.end),t.selectionStart=n,t.selectionEnd=r,i(t,function(e,t,n,r){var i=e+e;return i+t.substring(n,r)+i}(e,a,n,r)),t.selectionStart=n+2,t.selectionEnd=r+2}function c(e,t,n,r){var a=t.value,s=void 0;n===r?(s=f(e,t,n),n=s.start+2,r=s.end-1):(s=p(e,t,n,r),n=s.start,r=s.end),t.selectionStart=n-2,t.selectionEnd=r+2,i(t,function(e,t,n){return e.substring(t,n)}(a,n,r)),t.selectionStart=n-2,t.selectionEnd=r-2}function f(e,t,n){var r=t.value,i=e,a=e,s=null,o=null,u=null,l=null,d=n-1,c=n,f=0;if(Array.isArray(e)&&(i=e[0],a=e[1]),/\s/.test(r[d])&&(c===r.length||/\s/.test(r[c])))return{start:s,end:o,wordStart:c,wordEnd:c,wrapped:!1};for(;!s&&d>=0;){if(/\s/.test(r[d])){u=d+1;break}r[d]===i&&f++,2===f&&(s=d),d--}for(u||0!==d||(u=d),u||null===s||(u=s+2),f=0;!o&&c<r.length;){if(/\s/.test(r[c])){l=c-1;break}r[c]===a&&f++,2===f&&(o=c),c++}return l||c!==r.length||(l=r.length-1),l||null===o||(l=o-2),{start:s,end:o,wordStart:u<=l?u:l,wordEnd:l>=u?l:u,wrapped:null!==s&&null!==o}}function p(e,t,n,r){var i=t.value,a=e,s=e;for(Array.isArray(e)&&(a=e[0],s=e[1]);i[r-1]===a&&n<=r-1;)r--;for(;i[n]===s&&n<=r;)n++;return{start:n,end:r}}function h(e,t,n,r){var i=t.value;for(n-=1;"\n"!==i[n]&&n>0;)n--;for(0!==n&&n++;"\n"!==i[r]&&r<i.length;)r++;return{start:n,end:r}}function v(e,t,n,r){function i(e){var i=t.value,a=h(e,t,n,r);return i.substring(a.start,a.end).split("\n").reduce(function(t,n){return t||0===n.indexOf(e)&&!Object.keys(S).reduce(function(t,r){return t||r!==e&&S[r].test(n)},!1)},!1)}return Array.isArray(e)?e.reduce(function(e,t){return e||i(t)},!1):"string"==typeof e&&i(e)}function m(e,t,n,r,a){var s=t.value,o=e+" ",u=h(e,t,n,r),l=0;a=a||{},t.selectionStart=u.start,t.selectionEnd=u.end,i(t,function(t,n,r){var i=t.substring(n,r).split("\n");return i=i.map(function(t){return a.skipChecking||Object.keys(S).forEach(function(n){if(n!==e){var r=t.match(S[n]);r&&(l-=r[1].length,t=t.replace(r[1],""))}}),0===t.indexOf(e)?(l+=e.length,e+t):(l+=o.length,o+t)}),i.join("\n")}(s,u.start,u.end)),t.selectionStart=u.start,t.selectionEnd=u.end+l}function g(e,t,n,r){m(e,t,n,r,{skipChecking:!0})}function b(e,t,n,r){var a=t.value,s=e+" ",o=h(e,t,n,r),u=0;t.selectionStart=o.start,t.selectionEnd=o.end,i(t,function(t,n,r){var i=t.substring(n,r).split("\n"),a=null;return i=i.map(function(t){return e instanceof RegExp&&(a=t.match(e))?(t=t.replace(a[0],""),u-=a[0].length):0===t.trim().indexOf(s)?(t=t.replace(s,""),u-=s.length):t.indexOf(e)>-1&&(t=t.replace(e,""),u-=e.length),t}),i.join("\n")}(a,o.start,o.end)),t.selectionStart=o.start,t.selectionEnd=o.end+u}Object.defineProperty(t,"__esModule",{value:!0});var y=n(1),w=[{name:"bold",type:"inline",keys:"Cmd+B",isWrapped:l.bind(null,"*"),wrap:d.bind(null,"*"),unwrap:c.bind(null,"*")},{name:"italic",type:"inline",keys:"Cmd+I",isWrapped:l.bind(null,"/"),wrap:d.bind(null,"/"),unwrap:c.bind(null,"/")},{name:"link",type:"inline",keys:"Cmd+K",isWrapped:s,wrap:o,unwrap:u},{name:"header",type:"block",keys:"Cmd+Alt+1",isWrapped:v.bind(null,"#"),wrap:m.bind(null,"#"),unwrap:b.bind(null,"#")},{name:"subheader",type:"block",keys:"Cmd+Alt+2",isWrapped:v.bind(null,"##"),wrap:m.bind(null,"##"),unwrap:b.bind(null,"##")},{name:"remove headers",type:"block",keys:"Cmd+Alt+0",isWrapped:v.bind(null,["#","##"]),wrap:function(){},unwrap:b.bind(null,/^##\s?|^#\s?/)},{name:"increase quote level",type:"block",keys:"Cmd+]",isWrapped:v.bind(null,">"),wrap:g.bind(null,">"),unwrap:g.bind(null,">")},{name:"decrease quote level",type:"block",keys:"Cmd+[",isWrapped:v.bind(null,">"),wrap:b.bind(null,">"),unwrap:b.bind(null,">")}],S={"#":/(^\s*#\s*)([^#]+)/,"##":/(^\s*##\s*)/,">":/^(\s*>\s*)/},k=/((([A-Za-z]{3,9}:(?:\/\/)?)(?:[-;:&=+$,\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&=+$,\w]+@)[A-Za-z0-9.-]+)((?:\/[+~%\/.\w-_]*)?\??(?:[-+=&;%@.\w_]*)#?(?:[.!\/\\\w]*))?)/;t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){var e=$(".search-field");if(e.length){var t=d.default.ratifiedVars?parseInt(d.default.ratifiedVars["--searchFieldMaxWidth"],10):parseInt(window.getComputedStyle(e.get(0)).getPropertyValue("--searchFieldMaxWidth"),10);a(e,t),window.addEventListener("resize",a.bind(null,e,t))}}function a(e,t){var n=e.get(0).getBoundingClientRect().left,r=void 0;r=e.hasClass("search-field-left-anchored")?$(window).width()-n:n,r<t?s("search-field__input",".search-field { --searchFieldMaxWidth: "+r+"px; }"):s("search-field__input",".search-field { --searchFieldMaxWidth: "+t+"px; } .search-field__input { max-width: "+r+"px; }"),d.default.run()}function s(e,t){void 0===t&&(t=e,e=null);var n=document.head||document.getElementsByTagName("head")[0];if(e){var r=document.getElementById(e);r?r.innerHTML=t:(r=document.createElement("style"),r.id=e,r.innerHTML=t,n.appendChild(r))}else{var i=document.createElement("style");i.innerHTML=t,n.appendChild(i)}}function o(e){if(window.event&&(e=window.event),!/textarea|input/i.test((e.srcElement||e.target).tagName)&&(h.default.mac&&e.altKey&&!e.shiftKey||!h.default.mac&&e.ctrlKey)){var t=null;37===e.keyCode&&(t=document.getElementById("link-prev")),39===e.keyCode&&(t=document.getElementById("link-next")),38===e.keyCode&&(t=document.getElementById("link-later")),40===e.keyCode&&(t=document.getElementById("link-earlier")),t&&t.href&&(window.location.href=t.href,window.event&&(window.event.returnValue=!1),e.preventDefault&&e.preventDefault())}}function u(){var e=$(".e2-textarea-autosize")[0];if(e){var t=parseInt(e.style.height);if(e.scrollHeight>t)e.style.height=e.scrollHeight+"px";else for(;e.scrollHeight===t;)t-=50,e.style.height=t+"px",e.style.height=e.scrollHeight+"px";$(e).trigger("autosized")}}var l=n(5),d=r(l);n(6),n(7),n(8);var c=n(2),f=r(c),p=n(0),h=r(p);d.default.run(i);var v=document.getElementById("text");if(v&&(0,f.default)(v),$("a").each(function(){var e=$(this).attr("linkredir");if(e){var t=$(this);t.attr("href",e+t.attr("href")).attr("linkredir","")}}),h.default.iosdevice&&$(".e2-comment-actions").removeClass("comment-secondary-controls"),document.getElementById("e2-login-sheet")){$("#e2-password").focus();var m,g=0,b=!1,y=function e(){m&&clearTimeout(m);var t=(1/(Math.pow(g,1.25)/20+.5)-.05)*Math.sin(g/2);document.getElementById("e2-login-window").style.transform="translateX("+(0+100*t)+"px)",g++,g<82?m=setTimeout(e,14):document.getElementById("e2-login-window").style.transform="translateX(0px)"};$("#form-login").submit(function(){return!!b||($?($(".input-disableable").attr("disabled","disabled"),$("#e2-password").blur(),$("#password-checking").fadeIn(333),$.ajax({url:$("#e2-check-password-action").attr("href"),type:"post",timeout:1e4,data:{password:$("#e2-password").val()},success:function(e){$(".input-disableable").removeAttr("disabled"),"password-correct"===e?($("#password-checking").hide(),$("#password-correct").fadeIn(333),b=!0,setTimeout(function(){$("#form-login").submit()},333)):($("#password-checking").fadeOut(333),$("#e2-password").focus(),g=0,y())},error:function(){b=!0,$("#form-login").submit()}}),!1):""!==document.getElementById("e2-password").value&&void 0)})}$("#e2-visual-login").length&&($(document).mousemove(function(e){var t=$("#e2-visual-login").offset(),n=t.left,r=t.top,i=e.pageX,a=e.pageY,s=Math.pow(Math.pow(i-n,2)+Math.pow(a-r,2),.5);s=Math.max(Math.min(s,600),100),s=(s-100)/500,$("#e2-visual-login").css("opacity",.25+.75*(1-s))}),$("#e2-visual-login").click(function(){return $("#e2-visual-login").css("visibility","hidden"),$("#e2-login-sheet").addClass("e2-show"),setTimeout(function(){$("#e2-password").focus()},100),!1})),$("#e2-subscribe-sheet").length&&$("#e2-note-subscribe-button").addClass("e2-note-subscribe-button-visible"),$("#e2-note-subscribe-button").length&&$("#e2-note-subscribe-button").click(function(){return $("#e2-subscribe-sheet").addClass("e2-show"),!1}),document.$e2HideLoginSheet=function(){$("#e2-password").blur(),$("#e2-login-sheet").removeClass("e2-show"),$("#e2-visual-login").css("visibility","visible")},document.$e2HideSubscribeSheet=function(){$("#e2-subscribe-sheet").removeClass("e2-show")},$("#e2-login-sheet").length&&$("#e2-login-sheet").click(function(e){$("#e2-login-sheet").hasClass("e2-hideable")&&e.target===this&&document.$e2HideLoginSheet()}),$("#e2-subscribe-sheet").length&&$("#e2-subscribe-sheet").click(function(e){e.target===this&&document.$e2HideSubscribeSheet()}),$(document).keyup(function(e){27===e.keyCode&&(document.$e2HideSubscribeSheet(),$("#e2-login-sheet").hasClass("e2-hideable")&&document.$e2HideLoginSheet())}),$("#e2-search").submit(function(){if(/^ *$/.test($("#query").val()))return!1});var w=$(".search-field__input"),S=$(".search-field__zoom-icon"),k=$(".search-field__tags-icon");w.focusin(function(){w.addClass("search-field__input_focused"),S.addClass("search-field__zoom-icon_focused")}),w.focusout(function(e){$(e.relatedTarget).hasClass("search-field__tags-icon")||k.is(":active")||(S.removeClass("search-field__zoom-icon_focused"),w.removeClass("search-field__input_focused"))}),S.click(function(){return w.focus()}),$(document).bind("keydown keyup keypress",function(e){if(13===e.keyCode||13===e.which){var t=e.target||e.srcElement;if(t&&t.form){if($(t.form).hasClass("e2-enterable"))return;if(!e.ctrlKey&&$(t).is("textarea"))return;return e.preventDefault(),e.ctrlKey&&"keydown"===e.type&&($("#submit-button").attr("disabled")||$(t.form).submit()),!1}}}),$(document).bind("keyup",function(e){69!==e.keyCode&&69!==e.which||!e.altKey||$(".e2-edit-link").length>0&&(window.location.href=$(".e2-edit-link").eq(0).attr("href"))}),$(".e2-textarea-autosize").bind("input resize",u),u(),document.addEventListener?document.addEventListener("keyup",o,!1):document.attachEvent&&document.attachEvent("onkeydown",o)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var s,o=e[Symbol.iterator]();!(r=(s=o.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&o.return&&o.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i={run:function(e){if(window.CSS&&window.CSS.supports&&window.CSS.supports("(--foo: red)"))return void(e&&e());i.cb=e,i.ratifiedVars={},i.varsByBlock={},i.oldCSS={},i.findCSS(),i.updateCSS()},findCSS:function(){var e=document.querySelectorAll('style:not([id*="inserted"]), link[type="text/css"], link[rel="stylesheet"]');i.processedStyles=e.length;var t=1;[].forEach.call(e,function(e){var n=void 0;"STYLE"===e.nodeName?(n=e.innerHTML,i.findSetters(n,t),i.processedStyles--):"LINK"===e.nodeName&&(i.getLink(e.getAttribute("href"),t,function(e,t){var n=t.responseText;i.findSetters(n,e),i.oldCSS[e]=n,i.updateCSS(),!--i.processedStyles&&i.cb&&i.cb()}),n=""),i.oldCSS[t]=n,t++})},findSetters:function(e,t){i.varsByBlock[t]=e.match(/(?!var)--[a-zA-Z0-9\-]+:(\s?)(.+?)[;}]/gim)},updateCSS:function(){i.ratifySetters(i.varsByBlock);for(var e in i.oldCSS){var t=i.replaceGetters(i.oldCSS[e],i.ratifiedVars);if(document.querySelector("#inserted"+e))document.querySelector("#inserted"+e).innerHTML=t;else{var n=document.createElement("style");n.innerHTML=t,n.id="inserted"+e,document.getElementsByTagName("head")[0].appendChild(n)}}},replaceGetters:function(e,t){for(var n in t){var r=new RegExp("var\\(\\s*?"+n.trim()+"(\\)|,([\\s\\,\\w]*\\)))","g");e=e.replace(r,t[n])}for(var i=/var\(\s*?([^)^,\.]*)(?:[\s\,])*([^)\.]*)\)/g,a=i.exec(e);a;)e=e.replace(a[0],a[2]),a=i.exec(e);return e},ratifySetters:function(e){for(var t in e)e[t].forEach(function(e){e=e.replace(/[{;]/g,"");var t=e.split(/:\s*/),n=r(t,2),a=n[0],s=n[1];i.ratifiedVars[a]=s})},getLink:function(e,t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.overrideMimeType("text/css"),r.onload=function(){r.status>=200&&r.status<400?n(t,r,e):console.warn("error was returned from:",e)},r.onerror=function(){console.warn("cant get css from:",e)},r.send()}};t.default=i},function(e,t,n){"use strict";function r(){var e=/^([a-z0-9_.-])+@[a-z0-9-]+\.([a-z]{2,4}\.)?[a-z]{2,4}$/i;$("#name").val()&&e.test($("#email").val())&&$("#text").val()?$("#submit-button").removeAttr("disabled"):$("#submit-button").attr("disabled","disabled")}$("#form-comment").length&&($(".required").bind("input blur cut copy paste keypress",r),r(),$("#form-comment").show())},function(e,t,n){"use strict";function r(){/^ *$/.test($("#password").val())?$("#submit-button").attr("disabled","disabled"):$("#submit-button").removeAttr("disabled")}$("#password").length&&($(".required").bind("input blur cut copy paste keypress",r),r())},function(e,t,n){"use strict";function r(e){var t=e>99?0:parseInt(99*Math.pow((1-e/100)/2,1.5))+1;a.each(function(){var e=$(this);e[parseInt(e.data("weight"),10)>t?"show":"hide"]()})}function i(e){var t=void 0;t=e.originalEvent.touches&&e.originalEvent.touches.length>0?e.originalEvent.changedTouches[0].clientX:e.clientX;var n=t-$("#e2-tag-slide").offset().left;n<0&&(n=0),n>100&&(n=100),$("#e2-tag-slider").css("left",n),r(n),e.stopPropagation(),e.preventDefault()}var a=void 0;$("#e2-tags").length&&function(){a=$(".e2-tag"),r(50),$("#e2-tag-slider").show(),$("#e2-tag-slide-area").bind("mousedown touchstart",function(e){$(document.body).on("mousemove touchmove",i),$(document.body).one("mouseup touchend touchcancel",function(){return $(document.body).off("mousemove touchmove",i)}),i(e)})}()}])});